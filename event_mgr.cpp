//==========================================================================================================
// event_mgr.cpp - Implements an event tracker
//==========================================================================================================
#include "event_mgr.h"
#include <string.h>


//==========================================================================================================
// clear() - Clears the "this event has occured" flag for all events
//==========================================================================================================
void CEventMgr::clear()
{
    memset(m_ev_list, 0, sizeof(m_ev_list));
}
//==========================================================================================================

//==========================================================================================================
// clear() - Clear the "this event has occured" flag for a specified event
//==========================================================================================================
void CEventMgr::clear(event_t ev)
{
    m_ev_list[ev - EVT_FIRST] = 0;
}
//==========================================================================================================

//==========================================================================================================
// record() - Record that an event has occured
//==========================================================================================================
void CEventMgr::record(event_t ev)
{
    int index = ev - EVT_FIRST;

    if (m_ev_list[index] < 0xFF) ++m_ev_list[index];
}
//==========================================================================================================


//==========================================================================================================
// occured() - Returns true if the specified event has been recorded since it was last cleared
//==========================================================================================================
bool CEventMgr::occured(event_t ev)
{
    return m_ev_list[ev - EVT_FIRST] != 0;
}
//==========================================================================================================


